{% extends 'base.html' %}
{% load static %}
{% block css %}
<link rel="stylesheet" href="{% static 'css/add_product.css'%}">
{% endblock %}
{% block title %}
редактор магазина {{ shop.name }}
{% endblock %}
{% block content %}
<div id="add_product">
    <form action="/add_product/{{ shop.id }}" method="POST">
    <a onclick="add_product()"> 
        <svg width="15" height="15" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M4.11 2.697L2.698 4.11 6.586 8l-3.89 3.89 1.415 1.413L8 9.414l3.89 3.89 1.413-1.415L9.414 8l3.89-3.89-1.415-1.413L8 6.586l-3.89-3.89z" fill="#ffffff"></path>
        </svg>
    </a>
        {% csrf_token %}
    <input type="text" name="name" placeholder="название товара" id="name">
    <input type="file" name="img" id="img">
    <input type="text" name="description" placeholder="описание" id="description">
    <input type="number" name="price" placeholder="цена" id="price">
    <input type="submit">
    </form>
</div>

<div class="container">
    <button class="cssbuttons-io-button" onclick="add_product()">
        <svg
          height="20"
          width="20"
          viewBox="0 0 20 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M0 0h24v24H0z" fill="none"></path>
          <path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z" fill="currentColor"></path>
        </svg>
        <span>добавить</span>
      </button>
    <table>
        <tr>
            <th>
                имя
            </th>
            <th>
                описание
            </th>
            <th>
                цена
            </th>
            <th>
                картинка
            </th>
            <th>
                
            </th>
        </tr>
        {% for product in products %}
            <tr id="{{ product.id }}">
                <td>
                    {{ product.name }}
                </td>
                <td>
                    {{ product.description }}
                </td>
                <td>
                    {{ product.price }}
                </td>
                <td>
                    <img alt="картинка" src="/media/{{product.img}}" class="img">
                </td>
                <td>
                    <div class="actions">
                        <div tabindex="0" class="plusButton" onclick="update_product('{{ product.id }}')">
                            <svg class="plusIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">
                              <g mask="url(#mask0_21_345)">
                                <path d="M13.75 23.75V16.25H6.25V13.75H13.75V6.25H16.25V13.75H23.75V16.25H16.25V23.75H13.75Z"></path>
                              </g>
                            </svg>
                          </div>
                                        <!-- From Uiverse.io by vinodjangid07 --> 
                        <button class="bin-button" onclick="del_product('{{ product.id }}')">
                        <svg
                            class="bin-top"
                            viewBox="0 0 39 7"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <line y1="5" x2="39" y2="5" stroke="white" stroke-width="4"></line>
                            <line
                            x1="12"
                            y1="1.5"
                            x2="26.0357"
                            y2="1.5"
                            stroke="white"
                            stroke-width="3"
                            ></line>
                        </svg>
                        <svg
                            class="bin-bottom"
                            viewBox="0 0 33 39"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <mask id="path-1-inside-1_8_19" fill="white">
                            <path
                                d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z"
                            ></path>
                            </mask>
                            <path
                            d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z"
                            fill="white"
                            mask="url(#path-1-inside-1_8_19)"
                            ></path>
                            <path d="M12 6L12 29" stroke="white" stroke-width="4"></path>
                            <path d="M21 6V29" stroke="white" stroke-width="4"></path>
                        </svg>
                        </button>
                    </div>
                </td>   
            </tr>
        {% endfor %}
    </table>
</div>
<script src="{% static 'js/add_product.js' %}"></script>
{% endblock %}